{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/list/style\";\nimport _List from \"antd/lib/list\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport \"antd/lib/breadcrumb/style\";\nimport _Breadcrumb from \"antd/lib/breadcrumb\";\nvar _jsxFileName = \"/Users/cxy/code/nick-blog/pages/list/index.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Head from 'next/head';\nimport moment from 'moment';\nimport { article } from 'services';\nimport { Header, Author, Advert, Footer } from 'components';\nimport styles from './style.less';\nvar typeMap = ['视频教程', '文章', '生活'];\n\nvar MyList = function MyList(_ref) {\n  var list = _ref.list,\n      id = _ref.id;\n\n  var _useState = useState([]),\n      myList = _useState[0],\n      setList = _useState[1];\n\n  useEffect(function () {\n    setList(list);\n  });\n  return __jsx(\"div\", {\n    className: styles.list,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, __jsx(Head, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, __jsx(\"title\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, \"List\")), __jsx(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }), __jsx(_Row, {\n    className: styles.main,\n    type: \"flex\",\n    justify: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, __jsx(_Col, {\n    className: styles.left,\n    xs: 24,\n    sm: 24,\n    md: 16,\n    lg: 18,\n    xl: 14,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: styles.bread,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, __jsx(_Breadcrumb, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, __jsx(_Breadcrumb.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \"\\u9996\\u9875\")), __jsx(_Breadcrumb.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, typeMap[Number(id) - 2]))), __jsx(_List, {\n    itemLayout: 'vertical',\n    dataSource: myList,\n    renderItem: function renderItem(item) {\n      return __jsx(_List.Item, {\n        key: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: styles.listTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, item.title), __jsx(\"div\", {\n        className: styles.listIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, __jsx(_Icon, {\n        type: \"calendar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), moment(item.addTime).format('YYYY-MM-DD HH:mm:ss')), __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, __jsx(_Icon, {\n        type: \"folder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), item.type_id), __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, __jsx(_Icon, {\n        type: \"fire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }), \" \", item.view_count, \"\\u4EBA\")), __jsx(\"div\", {\n        className: styles.listContext,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, item.article_content));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  })), __jsx(_Col, {\n    className: styles.right,\n    xs: 0,\n    sm: 0,\n    md: 7,\n    lg: 5,\n    xl: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(Author, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), __jsx(Advert, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }))), __jsx(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }));\n};\n\nMyList.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(context) {\n    var id, result;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            id = context.query.id;\n            _context.next = 3;\n            return article.listByTypeId({\n              id: id\n            });\n\n          case 3:\n            result = _context.sent;\n            return _context.abrupt(\"return\", {\n              list: result,\n              id: id\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default MyList;","map":{"version":3,"sources":["/Users/cxy/code/nick-blog/pages/list/index.jsx"],"names":["React","useState","useEffect","Head","moment","article","Header","Author","Advert","Footer","styles","typeMap","MyList","list","id","myList","setList","main","left","bread","Number","item","listTitle","title","listIcon","addTime","format","type_id","view_count","listContext","article_content","right","getInitialProps","context","query","listByTypeId","result"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Head from 'next/head'\nimport {Row, Col, List, Icon, Breadcrumb } from 'antd'\nimport moment from 'moment'\nimport { article } from 'services'\nimport { Header, Author, Advert, Footer } from 'components'\nimport styles from './style.less'\n\nconst typeMap = ['视频教程', '文章', '生活']\n\nconst MyList = ({ list, id }) => {\n  const [myList, setList] = useState([])\n  useEffect(() => {\n    setList(list)\n  })\n  return <div className={styles.list}>\n    <Head>\n      <title>List</title>\n    </Head>\n    <Header />\n    <Row className={styles.main} type='flex' justify='center'>\n      <Col className={styles.left} xs={24} sm={24} md={16} lg={18} xl={14}>\n        <div className={styles.bread}>\n          <Breadcrumb>\n            <Breadcrumb.Item><a href=\"/\">首页</a></Breadcrumb.Item>\n            <Breadcrumb.Item>{typeMap[Number(id) - 2]}</Breadcrumb.Item>\n          </Breadcrumb>\n        </div>\n        <List\n          itemLayout={'vertical'}\n          dataSource={myList}\n          renderItem={item => (\n            <List.Item key={item.id}>\n              <div className={styles.listTitle}>{item.title}</div>\n              <div className={styles.listIcon}>\n                <span><Icon type='calendar' />{moment(item.addTime).format('YYYY-MM-DD HH:mm:ss')}</span>\n                <span><Icon type='folder' />{item.type_id}</span>\n                <span><Icon type='fire' /> {item.view_count}人</span>\n              </div>\n              <div className={styles.listContext}>{item.article_content}</div>\n            </List.Item>\n          )}\n        />\n      </Col>\n      <Col className={styles.right} xs={0} sm={0} md={7} lg={5} xl={4}>\n        <Author />\n        <Advert />\n      </Col>\n    </Row>\n    <Footer />\n  </div>\n}\n\nMyList.getInitialProps = async (context)=>{\n\n  let id =context.query.id\n  const result  = await article.listByTypeId({ id })\n  return { list: result, id }\n}\n\nexport default MyList"]},"metadata":{},"sourceType":"module"}